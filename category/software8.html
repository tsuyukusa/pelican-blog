<!DOCTYPE html>
<html lang="ja">
<head>
        <link rel="canonical" href="http://blog.calcurio.com/category/software.html" />
        <meta charset="utf-8" />
        <title>Software | 電脳手帳</title>
        <link rel="apple-touch-icon" sizes="57x57" href="theme/favicon/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="theme/favicon/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="theme/favicon/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="theme/favicon/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="theme/favicon/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="theme/favicon/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="theme/favicon/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="theme/favicon/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="theme/favicon/apple-touch-icon-180x180.png">
        <link rel="icon" type="image/png" href="theme/favicon/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="theme/favicon/android-chrome-192x192.png" sizes="192x192">
        <link rel="icon" type="image/png" href="theme/favicon/favicon-96x96.png" sizes="96x96">
        <link rel="icon" type="image/png" href="theme/favicon/favicon-16x16.png" sizes="16x16">
        <link rel="manifest" href="theme/favicon/manifest.json">
        <meta name="msapplication-TileColor" content="#000000">
        <meta name="msapplication-TileImage" content="theme/favicon/mstile-144x144.png">
        <meta name="theme-color" content="#ffffff">        <link rel="stylesheet" href="../theme/css/main.css" />
        <link href="http://blog.calcurio.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="電脳手帳 Atom Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
        <h1><a href="../">電脳手帳 </a></h1> <div id="subtitle">計算機環境やコーディング，機械学習まわりの話題を書き留めます</div>        </header><!-- /#banner -->
<h1 id="above_content">カテゴリ: Software の記事一覧</h1>         <div id="basecontent">

<p class="paginator">
    Page 8 / 8
            <a href="../category/software.html">&laquo; 最初</a>
            <a href="../category/software7.html">&lt; 前</a>
            <a href="../category/software.html">1</a>
            <a href="../category/software2.html">2</a>
            <a href="../category/software3.html">3</a>
            <a href="../category/software4.html">4</a>
            <a href="../category/software5.html">5</a>
            <a href="../category/software6.html">6</a>
        <span class="block">&hellip;</span>
            <span class="block">次 &gt;</span>
            <span class="block">最後 &raquo;</span>
</p>
                <section id="contents" class="body">
                    <ol id="posts-list" class="hfeed" start="9">


            <li><article class="hentry">
                <header>
                    <h1><a href="../pelican_make.html" rel="bookmark"
                           title="Permalink to PelicanのMakefileを書き換えて便利機能を追加する">PelicanのMakefileを書き換えて便利機能を追加する</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
<span><img class="date" src=../theme/images/icons/creation.png title="creation date" alt="creation date"> 2015/02/14 03:10</span>
<span><img class="date" src=../theme/images/icons/modified.png title="last date modified" alt="last date modified"> 2015/02/14 20:46</span>


        <span id="article_category">| category:</span>
        <a class="article_category_name" href="../category/software.html">Software</a>
        <span class="article_category_separator"> &raquo; </span>
        <a class=article_subcategory_name href="../subcategory/software/blog.html">Blog</a>
<span>| tags: <a href="../tag/pelican.html" class="tag">Pelican</a></span>

</footer><!-- /.post-info -->                <p>Pelicanはmakeでブログを作っていく。最初からある機能はシンプルなもので，Tinkererのように記事の生成をする機能はない。そこで，自分で <tt class="docutils literal">Makefile</tt> を書き換えて記事の管理機能を作ることにした。</p>
<p>ちなみに，以前の記事: <a class="reference external" href="pelican_multisite.html">Pelicanで複数のサイトを生成・管理する</a> でも <tt class="docutils literal">Makefile</tt> を編集してマルチサイト機能を追加している。今回は，マルチサイトを前提に機能を追加していくことにしよう。</p>

                <a class="readmore" href="../pelican_make.html">&raquo; read more</a>
<p><a href="../pelican_make.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>



            <li><article class="hentry">
                <header>
                    <h1><a href="../vimperator_copy.html" rel="bookmark"
                           title="Permalink to vimperatorのcopy.jsでreSTのURLコピペを楽する">vimperatorのcopy.jsでreSTのURLコピペを楽する</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
<span><img class="date" src=../theme/images/icons/creation.png title="creation date" alt="creation date"> 2015/02/13 22:51</span>
<span><img class="date" src=../theme/images/icons/modified.png title="last date modified" alt="last date modified"> 2015/02/21 02:20</span>


        <span id="article_category">| category:</span>
        <a class="article_category_name" href="../category/software.html">Software</a>
        <span class="article_category_separator"> &raquo; </span>
        <a class=article_subcategory_name href="../subcategory/software/blog.html">Blog</a>
<span>| tags: <a href="../tag/firefox.html" class="tag">Firefox</a><a href="../tag/restructuredtext.html" class="tag">reStructuredText</a><a href="../tag/vimperator.html" class="tag">Vimperator</a></span>

</footer><!-- /.post-info -->                <p>reStructuredTextでブログを書いていると，URLのコピペもreSTの形式でやりたくなる。これはvimperatorの <a class="reference external" href="https://github.com/vimpr/vimperator-plugins/blob/master/copy.js">copy.js</a> プラグインで実現できる。</p>

                <a class="readmore" href="../vimperator_copy.html">&raquo; read more</a>
<p><a href="../vimperator_copy.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>



<div class="gad">スポンサード リンク<script type="text/javascript"><!--
google_ad_client = "ca-pub-3584384159710434";
/* 本文の途中 */
google_ad_slot = "6048603509";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>            <li><article class="hentry">
                <header>
                    <h1><a href="../vimperator_statusline.html" rel="bookmark"
                           title="Permalink to vimperatorのステーラスラインにタイトルを表示する">vimperatorのステーラスラインにタイトルを表示する</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
<span><img class="date" src=../theme/images/icons/creation.png title="creation date" alt="creation date"> 2015/02/13 22:21</span>
<span><img class="date" src=../theme/images/icons/modified.png title="last date modified" alt="last date modified"> 2019/05/02 14:32</span>


        <span id="article_category">| category:</span>
        <a class="article_category_name" href="../category/software.html">Software</a>
<span>| tags: <a href="../tag/firefox.html" class="tag">Firefox</a><a href="../tag/vimperator.html" class="tag">Vimperator</a></span>

</footer><!-- /.post-info -->                <p>いつからかvimperatorのstatuslineにはURLだけで，タイトルが表示されなくなっていた。あるいは記憶違いで，昔からなかっただろうか？ とにかくvimperator-3.8.3ではURLだけだ。下の画像のようにタイトルも表示されるようにする方法を記しておく。</p>

<img alt="statlulineにタイトルを表示する" src="http://blog.calcurio.com/images/statusline_title.png" />

<p>できれば <tt class="docutils literal">.vimperatorrc</tt> だけでなんとかしたかったが，無理なのでソースコードも少しだけいじることになる。コンパイル済みのxpi (vimperator-3.8.3) もあるので面倒な方はそちらを使うと良い。</p>

                <a class="readmore" href="../vimperator_statusline.html">&raquo; read more</a>
<p><a href="../vimperator_statusline.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>



            <li><article class="hentry">
                <header>
                    <h1><a href="../pelican_multisite.html" rel="bookmark"
                           title="Permalink to Pelicanで複数のサイトを生成・管理する">Pelicanで複数のサイトを生成・管理する</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
<span><img class="date" src=../theme/images/icons/creation.png title="creation date" alt="creation date"> 2015/02/09 00:51</span>
<span><img class="date" src=../theme/images/icons/modified.png title="last date modified" alt="last date modified"> 2015/02/14 14:39</span>


        <span id="article_category">| category:</span>
        <a class="article_category_name" href="../category/software.html">Software</a>
        <span class="article_category_separator"> &raquo; </span>
        <a class=article_subcategory_name href="../subcategory/software/blog.html">Blog</a>
<span>| tags: <a href="../tag/pelican.html" class="tag">Pelican</a><a href="../tag/python.html" class="tag">python</a></span>

</footer><!-- /.post-info -->                <p>Wordpressにはマルチサイト機能というのがあって，1つのWordpressで <em>N</em> 個のサイトを管理できる。サイト間でプラグインとかは共通にできるので，設定変更のたびにN個のサイトでポチポチ作業する必要がなくなって楽になる。（個人的にはWordpressのマルチサイトは無駄に複雑化すんので素直に複数インストールするが吉と思うが）</p>
<p>Pelicanでも同じようなことをやってみた。</p>

                <a class="readmore" href="../pelican_multisite.html">&raquo; read more</a>
<p><a href="../pelican_multisite.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>



<div class="gad">スポンサード リンク<script type="text/javascript"><!--
google_ad_client = "ca-pub-3584384159710434";
/* 本文の途中 */
google_ad_slot = "6048603509";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>            <li><article class="hentry">
                <header>
                    <h1><a href="../zsh_hist.html" rel="bookmark"
                           title="Permalink to zshで余計な履歴を残さない・削除する。percolとの連携を前提に">zshで余計な履歴を残さない・削除する。percolとの連携を前提に</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
<span><img class="date" src=../theme/images/icons/creation.png title="creation date" alt="creation date"> 2015/01/31 15:50</span>
<span><img class="date" src=../theme/images/icons/modified.png title="last date modified" alt="last date modified"> 2015/02/09 01:35</span>


        <span id="article_category">| category:</span>
        <a class="article_category_name" href="../category/software.html">Software</a>
<span>| tags: <a href="../tag/zsh.html" class="tag">zsh</a><a href="../tag/percol.html" class="tag">percol</a><a href="../tag/python.html" class="tag">python</a></span>

</footer><!-- /.post-info -->                <p>SSHでサーバーをガンガンいじるようになると，シェル履歴の再利用は非常に重要になってくる。前回： <a class="reference external" href="http://calcurio.com/wordpress/?p=2371">percolを書き換えていい感じにzshで履歴検索できるようにする</a> で，percolで簡単に絞り込めるようにしてみた。履歴をよくよく見てみると，かなり無駄なコマンドが打ち込まれていることに気づく。</p>
<ol class="arabic simple">
<li>再利用することを念頭に，余計なコマンドはそもそも記録しない</li>
<li>無駄なコマンドを削除するスクリプトを作って，それを呼び出すpercolのキーバインドを設定する</li>
</ol>
<p>必要があるだろう。</p>

                <a class="readmore" href="../zsh_hist.html">&raquo; read more</a>
<p><a href="../zsh_hist.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>



            <li><article class="hentry">
                <header>
                    <h1><a href="../zsh_percol.html" rel="bookmark"
                           title="Permalink to percol+zshで複数行コマンドの履歴を実行する">percol+zshで複数行コマンドの履歴を実行する</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
<span><img class="date" src=../theme/images/icons/creation.png title="creation date" alt="creation date"> 2015/01/31 15:50</span>
<span><img class="date" src=../theme/images/icons/modified.png title="last date modified" alt="last date modified"> 2015/02/09 01:34</span>


        <span id="article_category">| category:</span>
        <a class="article_category_name" href="../category/software.html">Software</a>
<span>| tags: <a href="../tag/zsh.html" class="tag">zsh</a><a href="../tag/percol.html" class="tag">percol</a><a href="../tag/python.html" class="tag">python</a></span>

</footer><!-- /.post-info -->                <p>以前書いたように，私はpercolを使ってzshの履歴検索を拡張している。
<a class="reference external" href="zsh_hist">zshで余計な履歴を残さない・削除する。percolとの連携を前提に</a>
で書いたように，全てのzshのメモリ上に履歴削除を反映させるのは
面倒だ。そこで，historyコマンドではなく.zsh_historyをソースとして
percolにしぼり込みをさせたい。</p>

                <a class="readmore" href="../zsh_percol.html">&raquo; read more</a>
<p><a href="../zsh_percol.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>



            <li><article class="hentry">
                <header>
                    <h1><a href="../pelican-vim.html" rel="bookmark"
                           title="Permalink to Pelicanの記事をVimで楽々編集する">Pelicanの記事をVimで楽々編集する</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
<span><img class="date" src=../theme/images/icons/creation.png title="creation date" alt="creation date"> 2015/01/22 16:51</span>
<span><img class="date" src=../theme/images/icons/modified.png title="last date modified" alt="last date modified"> 2016/06/06 00:52</span>


        <span id="article_category">| category:</span>
        <a class="article_category_name" href="../category/software.html">Software</a>
        <span class="article_category_separator"> &raquo; </span>
        <a class=article_subcategory_name href="../subcategory/software/blog.html">Blog</a>
<span>| tags: <a href="../tag/pelican.html" class="tag">Pelican</a><a href="../tag/vim.html" class="tag">Vim</a></span>

</footer><!-- /.post-info -->                <p><a class="reference external" href="http://blog.getpelican.com/">Pelican</a> のブログ記事はreStructedTextで書くものだが，下記のようなメタ情報を書き込むのが面倒。</p>
<table class="highlighttable"><tr><td class="linenos"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code">
<span class="gh">##########################################</span>

<span class="nc">:date:</span> 2015-01-22 16:51:58
<span class="nc">:modified:</span> 2015-01-22 17:09:33
<span class="nc">:category:</span> blog
<span class="nc">:tags:</span> Pelican, Vim
<span class="nc">:slug:</span> pelican-vim
<span class="nc">:authors:</span> M\. Tsuyuki
<span class="nc">:summary:</span> VimでPelicanのテンプレートと，更新日時を自動入力する方法を説明する
</pre>
</td></tr></table><p>こんなものは人間の仕事ではない。機械にやらせることにする。</p>

                <a class="readmore" href="../pelican-vim.html">&raquo; read more</a>
<p><a href="../pelican-vim.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>



            <li><article class="hentry">
                <header>
                    <h1><a href="../using-mathjax-md.html" rel="bookmark"
                           title="Permalink to render_mathのMarkdownにおけるレンダリング結果">render_mathのMarkdownにおけるレンダリング結果</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
<span><img class="date" src=../theme/images/icons/creation.png title="creation date" alt="creation date"> 2015/01/21 12:00</span>
<span><img class="date" src=../theme/images/icons/modified.png title="last date modified" alt="last date modified"> 2015/02/14 12:38</span>


        <span id="article_category">| category:</span>
        <a class="article_category_name" href="../category/software.html">Software</a>
        <span class="article_category_separator"> &raquo; </span>
        <a class=article_subcategory_name href="../subcategory/software/blog.html">Blog</a>
<span>| tags: <a href="../tag/pelican.html" class="tag">pelican</a><a href="../tag/math.html" class="tag">math</a></span>

</footer><!-- /.post-info -->                <p>render_mathプラグインを使ってPelicanでもMathjaxを簡単に導入できる。導入方法は<a href="using-mathjax.html">PelicanでMathJaxを使って数式を表示する</a>を参照してほしい。導入方法の記事自体はreSTで書いたので，この記事ではMarkdownで書いたときのレンダリング結果を示す。</p>
<p>Markdownでは式番号も簡単に付けられるので，数式を書くならreStructuredTextよりもMarkdownかな。</p>
<!-- PELICAN_END_SUMMARY -->

<h1>Markdownの記述方法とレンダリング結果</h1>
<p>render_mathを正しく導入できていれば，Markdownでは次のように <span class="math">\(\LaTeX\)</span> の数式を書けるようになる:</p>
<div class="highlight"><pre><span></span><code><span class="err">インライン数式は$</span><span class="n">A_</span><span class="err">\</span><span class="nb">text</span><span class="err">{</span><span class="k">c</span><span class="err">}</span> <span class="o">=</span> <span class="p">(</span><span class="err">\</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span> <span class="n">d</span><span class="o">^</span><span class="mi">2</span><span class="err">$てな感じに書ける。</span>

<span class="err">ブロック数式の書き方は</span>

<span class="err">$$</span> <span class="err">\</span><span class="n">alpha_t</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">O_1</span><span class="p">,</span> <span class="n">O_2</span><span class="p">,</span> <span class="err">\</span><span class="n">cdots</span> <span class="n">O_t</span><span class="p">,</span> <span class="n">q_t</span><span class="o">=</span> <span class="n">S_i</span> <span class="err">\</span><span class="n">lambda</span><span class="p">)</span> <span class="err">$$</span>

<span class="err">である。</span>
</code></pre></div>


<p>インライン数式は<span class="math">\(A_\text{c} = (\pi/4) d^2\)</span>てな感じに書ける。</p>
<p>ブロック数式の書き方は</p>
<div class="math">$$ \alpha_t(i) = P(O_1, O_2, \cdots O_t, q_t= S_i \lambda) $$</div>
<p>である。</p>
<p>しかも，数式番号（とういうか<span class="math">\(\LaTeX\)</span>のマクロ）も使える:</p>
<div class="highlight"><pre><span></span><code><span class="err">$\</span><span class="n">LaTeX$のマクロは次のように書け</span><span class="err">，数式番号が使える！</span>

<span class="err">$$</span>
<span class="err">\</span><span class="k">begin</span><span class="err">{</span><span class="n">equation</span><span class="err">}</span>
    <span class="n">y</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="err">\</span><span class="n">label</span><span class="err">{</span><span class="n">eq1</span><span class="err">}</span>
<span class="err">\</span><span class="k">end</span><span class="err">{</span><span class="n">equation</span><span class="err">}</span>
<span class="err">$$</span>

<span class="err">引用は式</span><span class="p">(</span><span class="err">$\</span><span class="k">ref</span><span class="err">{</span><span class="n">eq1</span><span class="err">}$</span><span class="p">)</span><span class="err">のようになる。</span>
</code></pre></div>


<p><span class="math">\(\LaTeX\)</span>のマクロは次のように書け，数式番号が使える！</p>
<div class="math">$$
\begin{equation}
    y=x^2 \label{eq1}
\end{equation}
$$</div>
<p>引用は式(<span class="math">\(\ref{eq1}\)</span>)のようになる。</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        fonts: [['STIX', 'TeX']]," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
<p><a href="../using-mathjax-md.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>



            <li><article class="hentry">
                <header>
                    <h1><a href="../using-mathjax.html" rel="bookmark"
                           title="Permalink to PelicanでMathJaxを使って数式を表示する">PelicanでMathJaxを使って数式を表示する</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
<span><img class="date" src=../theme/images/icons/creation.png title="creation date" alt="creation date"> 2015/01/21 10:43</span>
<span><img class="date" src=../theme/images/icons/modified.png title="last date modified" alt="last date modified"> 2015/02/14 12:38</span>


        <span id="article_category">| category:</span>
        <a class="article_category_name" href="../category/software.html">Software</a>
        <span class="article_category_separator"> &raquo; </span>
        <a class=article_subcategory_name href="../subcategory/software/blog.html">Blog</a>
<span>| tags: <a href="../tag/pelican.html" class="tag">Pelican</a><a href="../tag/math.html" class="tag">math</a></span>

</footer><!-- /.post-info -->                <p>Pelicanでもmathjaxを導入して数式を記述することができる。Tinkererなら，pipでsphinxのmathjaxプラグインを導入すれば良いのだが，PelicanはSphinxに依存しない(よね？)のでPelican独自のプラグインを導入しなければならない。これは，pipには無い（2015年1月21日時点では）のでgithubよりダウンロードする。</p>
<!-- PELICAN_END_SUMMARY -->
<div class="section" id="id1">
<h2>インストール</h2>
<p>githubのページ <a class="reference external" href="https://github.com/getpelican/pelican-plugins">getpelican/pelican-plugins</a> よりプラグインを導入する方法を説明する。</p>
<p>まず，依存関係を満たす。render_mathはPelican 3.5以上とTypogrify 2.0.7以上，markdownに依存しているので，pipでインストールしておく</p>
<div class="highlight"><pre><span></span>$ pip install pelican typogrify markdown
</pre></div>
<p>次に，リポジトリをクローンする。</p>
<div class="highlight"><pre><span></span>$ git clone https://github.com/getpelican/pelican-plugins
</pre></div>
<p>最後に，pelicanconf.pyでプラグインを有効化する。ホームディレクトリ以下にcloneした場合は</p>
<div class="highlight"><pre><span></span><span class="c1"># Pelican Plugins</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">home</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOME&#39;</span><span class="p">]</span>
<span class="n">PLUGIN_PATHS</span> <span class="o">=</span> <span class="p">[</span><span class="n">home</span><span class="o">+</span><span class="s1">&#39;/pelican-plugins&#39;</span><span class="p">]</span>
<span class="n">PLUGINS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;render_math&#39;</span><span class="p">]</span>
</pre></div>
<p>とすれば良い。
なお，私の場合は複数マシンから編集するのでpelican-pluginsのパスをベタ打ちしないようにした。</p>
</div>
<div class="section" id="restructuredtext">
<h2>reStructuredTextの記述方法</h2>
<p>正しく導入できていれば，reStructuredTextでは次のように <span class="math">\(\LaTeX\)</span> の数式を書けるようになる</p>
<div class="highlight"><pre><span></span>インライン数式は :math:`A<span class="nb">_</span><span class="k">\text</span><span class="nb">{</span>c<span class="nb">}</span> = (<span class="k">\pi</span>/4) d<span class="nb">^</span>2` てな感じに書ける。

ブロック数式の書き方は

.. math::

  <span class="k">\alpha</span><span class="nb">_</span>t(i) = P(O<span class="nb">_</span>1, O<span class="nb">_</span>2, <span class="k">\cdots</span> O<span class="nb">_</span>t, q<span class="nb">_</span>t= S<span class="nb">_</span>i <span class="k">\lambda</span>)

である。
</pre></div>
<p>インライン数式は <span class="math">\(A_\text{c} = (\pi/4) d^2\)</span> てな感じに書ける。</p>
<p>ブロック数式の書き方は</p>
<div class="math">
\begin{equation*}
\alpha_t(i) = P(O_1, O_2, \cdots O_t, q_t= S_i \lambda)
\end{equation*}
</div>
<p>である。</p>
<p>どうやら，PelicanのreStructreudTextでは数式番号は使えないようである。
Sphinxの拡張では使えるだけに残念だ。</p>
<p>ちなみに，SphinxやTinkererなら以下のようにして数式番号を付けられる</p>
<div class="highlight"><pre><span></span>.. math:: e<span class="nb">^{</span>i<span class="k">\pi</span><span class="nb">}</span> + 1 = 0
   :label: euler

Euler&#39;s identity, equation :eq:`euler`, was elected one of the most
beautiful mathematical formulas.
</pre></div>
</div>
<div class="section" id="markdown">
<h2>Markdownの記述方法</h2>
<p>正しく導入できていれば，Markdownでは次のように <span class="math">\(\LaTeX\)</span> の数式を書けるようになる</p>
<div class="highlight"><pre><span></span>インライン数式は<span class="s">$</span><span class="nb">A_</span><span class="nv">\text</span><span class="nb">{c} </span><span class="o">=</span><span class="nb"> </span><span class="o">(</span><span class="nv">\pi</span><span class="o">/</span><span class="m">4</span><span class="o">)</span><span class="nb"> d^</span><span class="m">2</span><span class="s">$</span>てな感じに書ける。

ブロック数式の書き方は

<span class="sb">$$</span><span class="nb"> </span><span class="nv">\alpha</span><span class="nb">_t</span><span class="o">(</span><span class="nb">i</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> P</span><span class="o">(</span><span class="nb">O_</span><span class="m">1</span><span class="nb">, O_</span><span class="m">2</span><span class="nb">, </span><span class="nv">\cdots</span><span class="nb"> O_t, q_t</span><span class="o">=</span><span class="nb"> S_i </span><span class="nv">\lambda</span><span class="o">)</span><span class="nb"> </span><span class="s">$$</span>

である。
</pre></div>
<p>しかも，数式番号（とういうか:math:<cite>LaTeX</cite> のマクロ）も使える</p>
<div class="highlight"><pre><span></span><span class="s">$</span><span class="nv">\LaTeX</span><span class="s">$</span>のマクロは次のように書け，数式番号が使える！

<span class="sb">$$</span><span class="nb"></span>
<span class="nv">\begin</span><span class="nb">{equation}</span>
<span class="nb">    y</span><span class="o">=</span><span class="nb">x^</span><span class="m">2</span><span class="nb"> </span><span class="nv">\label</span><span class="nb">{eq</span><span class="m">1</span><span class="nb">}</span>
<span class="nv">\end</span><span class="nb">{equation}</span>
<span class="s">$$</span>

引用は式(<span class="s">$</span><span class="nv">\ref</span><span class="nb">{eq</span><span class="m">1</span><span class="nb">}</span><span class="s">$</span>)のようになる。
</pre></div>
<p>この記事自体はreSTで書かれているので，Markdownの場合のレンダリング結果は <a class="reference external" href="using-mathjax-md.html">render_mathのMarkdownにおけるレンダリング結果</a> を参照。</p>
<div class="section" id="url">
<h3>参考URL</h3>
<div class="line-block">
<div class="line"><a class="reference external" href="https://github.com/getpelican/pelican-plugins">getpelican/pelican-plugins</a></div>
<div class="line"><a class="reference external" href="https://github.com/barrysteyn/pelican_plugin-render_math">barrysteyn/pelican_plugin-render_math</a></div>
</div>
</div>
</div>
<script type='text/javascript'>if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        fonts: [['STIX', 'TeX']]," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
<p><a href="../using-mathjax.html#disqus_thread">comments</a></p>                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
            </section><!-- /#content -->
<div id="sidebar">
    <div class="sidebar_child">
        <script type="text/javascript"><!--
        google_ad_client = "ca-pub-3584384159710434";
        /* スクエア */
        google_ad_slot = "7175743105";
        google_ad_width = 200;
        google_ad_height = 200;
        //-->
        </script>
        <script type="text/javascript"
        src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
        </script>
    </div>
    <div class="sidebar_child">
<h3 class="sidebar_title">検索</h3>
      <form action="https://www.google.co.jp/search" target="_blank" class="google-search">
          <input type="hidden" name="q" value="site:http://blog.calcurio.com">
        <input type="text" name="q">
      </form>
    </div>
    <div class="sidebar_child">
        Author: M. Tsuyuki
<p><a href="/pages/about.html">詳しく</a></p>    </div>
    <div class="sidebar_child">
        <h3 class="sidebar_title"></h3>
<h3 class="sidebar_title">カテゴリ</h3>        <ul>            <li><a href="../category/hardware.html">Hardware</a> (11)</li>
            <li><a href="../category/lun wen.html">論文</a> (2)</li>
            <li><a href="../category/software.html">Software</a> (79)</li>
        </ul>
    </div>
    <div class="sidebar_child">
<h3 class="sidebar_title">タグ</h3>        <ul>            <li><a href="../tag/aws.html" class="tag">AWS</a> (3)</li>
            <li><a href="../tag/bash.html" class="tag">bash</a> (6)</li>
            <li><a href="../tag/blog.html" class="tag">Blog</a> (4)</li>
            <li><a href="../tag/bot.html" class="tag">bot</a> (1)</li>
            <li><a href="../tag/cli.html" class="tag">CLI</a> (4)</li>
            <li><a href="../tag/cui.html" class="tag">CUI</a> (18)</li>
            <li><a href="../tag/cygwin.html" class="tag">Cygwin</a> (17)</li>
            <li><a href="../tag/docker.html" class="tag">Docker</a> (11)</li>
            <li><a href="../tag/dvc.html" class="tag">dvc</a> (1)</li>
            <li><a href="../tag/ec2.html" class="tag">EC2</a> (2)</li>
            <li><a href="../tag/firefox.html" class="tag">Firefox</a> (4)</li>
            <li><a href="../tag/fluentd.html" class="tag">fluentd</a> (1)</li>
            <li><a href="../tag/git.html" class="tag">Git</a> (3)</li>
            <li><a href="../tag/github.html" class="tag">Github</a> (1)</li>
            <li><a href="../tag/hardware.html" class="tag">Hardware</a> (1)</li>
            <li><a href="../tag/html.html" class="tag">HTML</a> (1)</li>
            <li><a href="../tag/ji jie xue xi.html" class="tag">機械学習</a> (6)</li>
            <li><a href="../tag/jia xiang hua.html" class="tag">仮想化</a> (3)</li>
            <li><a href="../tag/jupyter.html" class="tag">Jupyter</a> (1)</li>
            <li><a href="../tag/keyboard.html" class="tag">keyboard</a> (1)</li>
            <li><a href="../tag/linux.html" class="tag">Linux</a> (21)</li>
            <li><a href="../tag/makefile.html" class="tag">Makefile</a> (1)</li>
            <li><a href="../tag/math.html" class="tag">math</a> (2)</li>
            <li><a href="../tag/networking.html" class="tag">Networking</a> (4)</li>
            <li><a href="../tag/openstack.html" class="tag">OpenStack</a> (2)</li>
            <li><a href="../tag/pczi zuo.html" class="tag">PC自作</a> (4)</li>
            <li><a href="../tag/pelican.html" class="tag">Pelican</a> (9)</li>
            <li><a href="../tag/percol.html" class="tag">percol</a> (2)</li>
            <li><a href="../tag/preseed.html" class="tag">Preseed</a> (1)</li>
            <li><a href="../tag/python.html" class="tag">Python</a> (12)</li>
            <li><a href="../tag/rally.html" class="tag">Rally</a> (1)</li>
            <li><a href="../tag/raspi.html" class="tag">RasPi</a> (1)</li>
            <li><a href="../tag/restructuredtext.html" class="tag">reStructuredText</a> (1)</li>
            <li><a href="../tag/screen.html" class="tag">screen</a> (2)</li>
            <li><a href="../tag/tesuto.html" class="tag">テスト</a> (1)</li>
            <li><a href="../tag/thinkpad.html" class="tag">ThinkPad</a> (4)</li>
            <li><a href="../tag/thinkpad helix.html" class="tag">ThinkPad Helix</a> (2)</li>
            <li><a href="../tag/tmux.html" class="tag">Tmux</a> (1)</li>
            <li><a href="../tag/ubuntu.html" class="tag">Ubuntu</a> (27)</li>
            <li><a href="../tag/vagrant.html" class="tag">vagrant</a> (2)</li>
            <li><a href="../tag/vim.html" class="tag">Vim</a> (5)</li>
            <li><a href="../tag/vimperator.html" class="tag">Vimperator</a> (3)</li>
            <li><a href="../tag/virtualbox.html" class="tag">Virtualbox</a> (1)</li>
            <li><a href="../tag/windows.html" class="tag">Windows</a> (6)</li>
            <li><a href="../tag/yoga_tablet2.html" class="tag">yoga_tablet2</a> (1)</li>
            <li><a href="../tag/zabbix.html" class="tag">zabbix</a> (1)</li>
            <li><a href="../tag/ziyobusukeziyura.html" class="tag">ジョブスケジューラ</a> (1)</li>
            <li><a href="../tag/zsh.html" class="tag">zsh</a> (7)</li>
        </ul>
    </div>
    <div class="sidebar_child">
        <script type="text/javascript"><!--
        google_ad_client = "ca-pub-3584384159710434";
        /* リンクユニット */
        google_ad_slot = "1129209509";
        google_ad_width = 200;
        google_ad_height = 90;
        //-->
        </script>
        <script type="text/javascript"
        src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
        </script>
    </div>
    <div class="sidebar_child">
<h3 class="sidebar_title">最近の投稿</h3>        <ul id="recent-article">
        <li>
            <a href="update-display.html">WSL2でVimのクリップボードをWindowsと共有する方法</a>
            2020/07/25
        </li>
        <li>
            <a href="vim-jupyter-run.html">VimをJupyterノートブックの開発環境に仕上げる</a>
            2020/07/24
        </li>
        <li>
            <a href="sixel.html">ターミナル上で画像を表示するlibsixelを試してみた</a>
            2018/04/08
        </li>
        <li>
            <a href="dataversioncontrol.html">機械学習のデータセットをGitライクにバージョン管理するDataVersionControlを試す</a>
            2018/04/07
        </li>
        <li>
            <a href="transparent-proxy-by-squid.html">Docker buildを高速化するためにsquidで透過型プロキシを立ててみた</a>
            2017/08/19
        </li>
        <li>
            <a href="detect-apt-cacher-in-dockerfile.html">Dockerfile内部でapt-cacher-ngを自動検出する</a>
            2017/08/19
        </li>
        <li>
            <a href="slurm.html">slurmをインストール...したい</a>
            2017/08/16
        </li>
        <li>
            <a href="install-nvenc-on-ubunu.html">UbuntuにNVENCをインストールしてエンコードしてみる</a>
            2017/06/26
        </li>
        <li>
            <a href="install_dropbox_for_linux.html">UbuntuにLinux用Dropboxをインストールする</a>
            2017/06/25
        </li>
        <li>
            <a href="ssh-tunneling-for-samba.html">SSHトンネル経由でWindowsからリモートのSambaサーバへ接続する方法</a>
            2017/06/19
        </li>
        <li>
            <a href="enable-wake-on-lan.html">Ubuntuでwake-on-lanを有効化する</a>
            2017/06/16
        </li>
        <li>
            <a href="vagrant-console.html">vagrantとpakcerでシリアルコンソールを有効化したイメージを作成する</a>
            2017/04/22
        </li>
        <li>
            <a href="letsencrypt.html">let's encryptでNginxを常時HTTPS接続にする</a>
            2017/03/20
        </li>
        <li>
            <a href="libvirt-qemu-hook.html">libvirtのqemu hookを利用してインスタンス作成・削除時に通知する</a>
            2017/02/05
        </li>
        <li>
            <a href="libvmi.html">libvmiで仮想マシン内部のプロセス一覧を取得...できなかった</a>
            2017/01/31
        </li>
        </ul>
    </div>
</div><p class="paginator">
    Page 8 / 8
            <a href="../category/software.html">&laquo; 最初</a>
            <a href="../category/software7.html">&lt; 前</a>
            <a href="../category/software.html">1</a>
            <a href="../category/software2.html">2</a>
            <a href="../category/software3.html">3</a>
            <a href="../category/software4.html">4</a>
            <a href="../category/software5.html">5</a>
            <a href="../category/software6.html">6</a>
        <span class="block">&hellip;</span>
            <span class="block">次 &gt;</span>
            <span class="block">最後 &raquo;</span>
</p>
        </div>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://blog.calcurio.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme baseed on <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>.</p>
        </footer><!-- /#contentinfo -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
   ga('create', 'UA-42775386-2', 'auto');
    ga('send', 'pageview');
</script>
</body>
</html>